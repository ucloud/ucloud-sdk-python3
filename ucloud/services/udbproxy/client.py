""" Code is generated by ucloud-model, DO NOT EDIT IT. """

import typing


from ucloud.core.client import Client
from ucloud.services.udbproxy.schemas import apis


class UDBProxyClient(Client):
    def __init__(
        self, config: dict, transport=None, middleware=None, logger=None
    ):
        super(UDBProxyClient, self).__init__(
            config, transport, middleware, logger
        )

    def list_udb_proxy_client(
        self, req: typing.Optional[dict] = None, **kwargs
    ) -> dict:
        """ListUDBProxyClient - 查询代理客户端连接IP信息(实时）

        **Request**

        - **ProjectId** (str) - (Config) 项目ID。不填写为默认项目，子帐号必须填写。 请参考 `GetProjectList接口 <https://docs.ucloud.cn/api/summary/get_project_list>`_
        - **Region** (str) - (Config) 地域。 参见  `地域和可用区列表 <https://docs.ucloud.cn/api/summary/regionlist>`_
        - **UDBProxyID** (str) - (Required) 代理ID
        - **Zone** (str) - (Required) 可用区。参见  `可用区列表 <https://docs.ucloud.cn/api/summary/regionlist>`_

        **Response**

        - **NodeClientInfos** (list) - 见 **NodeClientInfo** 模型定义
        - **UDBProxyID** (str) - 代理ID

        **Response Model**

        **ClientInfo**
        - **Count** (int) - 客户端连接IP数
        - **IP** (str) - 客户端连接IP


        **NodeClientInfo**
        - **ID** (str) - 代理节点ID
        - **IP** (str) - 代理节点IP
        - **Records** (list) - 见 **ClientInfo** 模型定义


        """
        # build request
        d = {
            "ProjectId": self.config.project_id,
            "Region": self.config.region,
        }
        req and d.update(req)
        d = apis.ListUDBProxyClientRequestSchema().dumps(d)

        resp = self.invoke("ListUDBProxyClient", d, **kwargs)
        return apis.ListUDBProxyClientResponseSchema().loads(resp)
