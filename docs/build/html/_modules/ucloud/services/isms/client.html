
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ucloud.services.isms.client &#8212; ucloud-sdk-python3  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/alabaster.css" />
    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
   
  <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for ucloud.services.isms.client</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot; Code is generated by ucloud-model, DO NOT EDIT IT. &quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">typing</span>


<span class="kn">from</span> <span class="nn">ucloud.core.client</span> <span class="kn">import</span> <span class="n">Client</span>
<span class="kn">from</span> <span class="nn">ucloud.services.isms.schemas</span> <span class="kn">import</span> <span class="n">apis</span>


<div class="viewcode-block" id="ISMSClient"><a class="viewcode-back" href="../../../../services.html#ucloud.services.isms.client.ISMSClient">[docs]</a><span class="k">class</span> <span class="nc">ISMSClient</span><span class="p">(</span><span class="n">Client</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">transport</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">middleware</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">logger</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ISMSClient</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">transport</span><span class="p">,</span> <span class="n">middleware</span><span class="p">,</span> <span class="n">logger</span><span class="p">)</span>

<div class="viewcode-block" id="ISMSClient.create_isms_signature"><a class="viewcode-back" href="../../../../services.html#ucloud.services.isms.client.ISMSClient.create_isms_signature">[docs]</a>    <span class="k">def</span> <span class="nf">create_isms_signature</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;CreateISMSSignature - 调用接口CreateISMSSignature申请视频短信签名</span>

<span class="sd">        **Request**</span>

<span class="sd">        - **ProjectId** (str) - (Config) 项目ID，不填写为默认项目，子帐号必须填写。 请参考 `GetProjectList接口 &lt;https://docs.ucloud.cn/api/summary/get_project_list&gt;`_</span>
<span class="sd">        - **CertificateType** (int) - (Required) 签名的资质证明文件类型，需与签名类型保持一致，说明如下：0-三证合一/企业营业执照/组织机构代码证书/社会信用代码证书；1-应用商店后台开发者管理截图；2-备案服务商的备案成功截图(含域名，网站名称，备案号)；3-公众号或小程序的管理界面截图；4-商标注册证书；5-组织机构代码证书、社会信用代码证书；</span>
<span class="sd">        - **Description** (str) - (Required) 短信签名申请原因</span>
<span class="sd">        - **File** (str) - (Required) 短信签名的资质证明文件，需先进行base64编码格式转换，此处填写转换后的字符串。文件大小不超过4 MB</span>
<span class="sd">        - **SigContent** (str) - (Required) 短信签名内容；长度为2-12个字符, 可包含中文、数字和符号；无需填写【】或[]，系统会自动添加</span>
<span class="sd">        - **SigPurpose** (int) - (Required) 签名用途，0-自用，1-他用；</span>
<span class="sd">        - **SigType** (int) - (Required) 签名类型，说明如下：0-公司或企业的全称或简称；1-App应用的全称或简称；2-工信部备案网站的全称或简称；3-公众号或小程序的全称或简称；4-商标名的全称或简称；5-政府/机关事业单位/其他单位的全称或简称；</span>
<span class="sd">        - **ProxyFile** (str) - 短信签名授权委托文件，需先进行base64编码格式转换，此处填写转换后的字符串。文件大小不超过4 MB；当您是代理并使用第三方的签名时（也即SigPurpose为1-他用），该项为必填项；</span>

<span class="sd">        **Response**</span>

<span class="sd">        - **Message** (str) - 返回状态码描述，如果操作成功，默认返回为空</span>
<span class="sd">        - **SigId** (str) - 短信签名ID</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># build request</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;ProjectId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">req</span> <span class="ow">and</span> <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">apis</span><span class="o">.</span><span class="n">CreateISMSSignatureRequestSchema</span><span class="p">()</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>

        <span class="c1"># build options</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;max_retries&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># ignore retry when api is not idempotent</span>

        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;CreateISMSSignature&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">apis</span><span class="o">.</span><span class="n">CreateISMSSignatureResponseSchema</span><span class="p">()</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span></div>

<div class="viewcode-block" id="ISMSClient.create_isms_template"><a class="viewcode-back" href="../../../../services.html#ucloud.services.isms.client.ISMSClient.create_isms_template">[docs]</a>    <span class="k">def</span> <span class="nf">create_isms_template</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;CreateISMSTemplate - 申请视频短信模板</span>

<span class="sd">        **Request**</span>

<span class="sd">        - **ProjectId** (str) - (Config) 项目ID。不填写为默认项目，子帐号必须填写。 请参考 `GetProjectList接口 &lt;https://docs.ucloud.cn/api/summary/get_project_list&gt;`_</span>
<span class="sd">        - **Region** (str) - (Config) 地域。 参见  `地域和可用区列表 &lt;https://docs.ucloud.cn/api/summary/regionlist&gt;`_</span>
<span class="sd">        - **Content** (str) - (Required) 视频短信模板内容。json数组的字符串格式。如：[{name:&quot;0.txt&quot;,type:&quot;txt&quot;,content:&quot;北京是一座美丽的城市，我爱北京！&quot;,index:0},{name:&quot;1.jpg&quot;,type:&quot;jpg&quot;,content:&quot;jpg文件字节的base64编码字符串&quot;,index:1},{name:”2.mp4”,type:&quot;mp4&quot;,content:&quot;mp4文件字节的base64编码字符串&quot;,index:2}]。name: 文件名，name中不能出现中文，必须要带上和type相同的后缀；type:文件类型，不能为空，文本为txt，图片为jpg、gif或png，音频为mp3，视频为mp4；content：文件内容，由文本、图片、音频、视频组成，文本使用txt文件，图片使用 jpg、gif、png 格式，音频使用 mp3 格式，视频使用mp4（视频只允许一个），文本、图片、音频、视频文件合计大小不可超过2M；index: 在视频短信中的位置。从0开始。</span>
<span class="sd">        - **MsgSignature** (str) - (Required) 视频短信签名</span>
<span class="sd">        - **MsgTitle** (str) - (Required) 视频短信标题</span>
<span class="sd">        - **Remark** (str) - (Required) 备注</span>
<span class="sd">        - **TemplateName** (str) - (Required) 视频短信模板名称</span>
<span class="sd">        - **UnsubscribeInfo** (str) - (Required) 退订信息，如：“回T退订”</span>
<span class="sd">        - **Zone** (str) - 可用区。参见  `可用区列表 &lt;https://docs.ucloud.cn/api/summary/regionlist&gt;`_</span>

<span class="sd">        **Response**</span>

<span class="sd">        - **Message** (str) - API接口调用出错时表示错误信息</span>
<span class="sd">        - **ReqUuid** (str) - 本次接口调用请求Id，用于问题排查。</span>
<span class="sd">        - **TemplateId** (str) - 申请的模板Id。</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># build request</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;ProjectId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span>
            <span class="s2">&quot;Region&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">req</span> <span class="ow">and</span> <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">apis</span><span class="o">.</span><span class="n">CreateISMSTemplateRequestSchema</span><span class="p">()</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>

        <span class="c1"># build options</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;max_retries&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># ignore retry when api is not idempotent</span>

        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;CreateISMSTemplate&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">apis</span><span class="o">.</span><span class="n">CreateISMSTemplateResponseSchema</span><span class="p">()</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span></div>

<div class="viewcode-block" id="ISMSClient.delete_isms_signature"><a class="viewcode-back" href="../../../../services.html#ucloud.services.isms.client.ISMSClient.delete_isms_signature">[docs]</a>    <span class="k">def</span> <span class="nf">delete_isms_signature</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;DeleteISMSSignature - 调用接口DeleteISMSSignature删除视频短信签名</span>

<span class="sd">        **Request**</span>

<span class="sd">        - **ProjectId** (str) - (Config) 项目ID，不填写为默认项目，子帐号必须填写。 请参考 `GetProjectList接口 &lt;https://docs.ucloud.cn/api/summary/get_project_list&gt;`_</span>
<span class="sd">        - **SigIds** (list) - (Required) 签名ID，支持以数组的方式，举例，以SigIds.0、SigIds.1...SigIds.N方式传入</span>

<span class="sd">        **Response**</span>

<span class="sd">        - **Message** (str) - 返回状态码描述，如果操作成功，默认返回为空</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># build request</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;ProjectId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">req</span> <span class="ow">and</span> <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">apis</span><span class="o">.</span><span class="n">DeleteISMSSignatureRequestSchema</span><span class="p">()</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>

        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;DeleteISMSSignature&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">apis</span><span class="o">.</span><span class="n">DeleteISMSSignatureResponseSchema</span><span class="p">()</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span></div>

<div class="viewcode-block" id="ISMSClient.delete_isms_template"><a class="viewcode-back" href="../../../../services.html#ucloud.services.isms.client.ISMSClient.delete_isms_template">[docs]</a>    <span class="k">def</span> <span class="nf">delete_isms_template</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;DeleteISMSTemplate - 调用接口DeleteISMSTemplate删除视频短信模板</span>

<span class="sd">        **Request**</span>

<span class="sd">        - **ProjectId** (str) - (Config) 项目ID。不填写为默认项目，子帐号必须填写。 请参考 `GetProjectList接口 &lt;https://docs.ucloud.cn/api/summary/get_project_list&gt;`_</span>
<span class="sd">        - **Region** (str) - (Config) 地域。 参见  `地域和可用区列表 &lt;https://docs.ucloud.cn/api/summary/regionlist&gt;`_</span>
<span class="sd">        - **TemplateIds** (list) - (Required) 模板ID，支持以数组的方式，举例，以TemplateIds.0、TemplateIds.1...TemplateIds.N方式传入</span>

<span class="sd">        **Response**</span>

<span class="sd">        - **Message** (str) - 返回状态码描述，如果操作成功，默认返回为空</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># build request</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;ProjectId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span>
            <span class="s2">&quot;Region&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">req</span> <span class="ow">and</span> <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">apis</span><span class="o">.</span><span class="n">DeleteISMSTemplateRequestSchema</span><span class="p">()</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>

        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;DeleteISMSTemplate&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">apis</span><span class="o">.</span><span class="n">DeleteISMSTemplateResponseSchema</span><span class="p">()</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span></div>

<div class="viewcode-block" id="ISMSClient.get_isms_send_receipt"><a class="viewcode-back" href="../../../../services.html#ucloud.services.isms.client.ISMSClient.get_isms_send_receipt">[docs]</a>    <span class="k">def</span> <span class="nf">get_isms_send_receipt</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;GetISMSSendReceipt - 获取视频短信发送记录的状态回执</span>

<span class="sd">        **Request**</span>

<span class="sd">        - **ProjectId** (str) - (Config) 项目ID。不填写为默认项目，子帐号必须填写。 请参考 `GetProjectList接口 &lt;https://docs.ucloud.cn/api/summary/get_project_list&gt;`_</span>
<span class="sd">        - **Region** (str) - (Config) 地域。 参见  `地域和可用区列表 &lt;https://docs.ucloud.cn/api/summary/regionlist&gt;`_</span>
<span class="sd">        - **TaskIdSet** (list) - (Required) 发送记录TaskId集合。调用SendUSMSVideoMessage时返回的TaskId的集合。以TaskIdSet.0、TaskIdSet.1...TaskIdSet.N的形式传入。每次请求最多支持100个</span>
<span class="sd">        - **Zone** (str) - (Required) 可用区。参见  `可用区列表 &lt;https://docs.ucloud.cn/api/summary/regionlist&gt;`_</span>

<span class="sd">        **Response**</span>

<span class="sd">        - **Data** (list) - 见 **ReceiptPerTask** 模型定义</span>
<span class="sd">        - **Message** (str) - 错误信息</span>
<span class="sd">        - **ReqUuid** (str) - 本次请求uuid</span>

<span class="sd">        **Response Model**</span>

<span class="sd">        **ReceiptPerTask**</span>
<span class="sd">        - **ReceiptSet** (list) - 见 **ReceiptPerPhone** 模型定义</span>
<span class="sd">        - **TaskId** (str) - 发送短信时返回的TaskId</span>


<span class="sd">        **ReceiptPerPhone**</span>
<span class="sd">        - **Phone** (str) - 手机号码</span>
<span class="sd">        - **ReceiptCode** (str) - 回执码</span>
<span class="sd">        - **ReceiptDesc** (str) - 回执结果描述</span>
<span class="sd">        - **ReceiptResult** (str) - 回执结果(发送成功、发送失败、状态未知)</span>
<span class="sd">        - **ReceiptTime** (int) - 回执返回时间</span>
<span class="sd">        - **SessionId** (str) - SessionId</span>


<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># build request</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;ProjectId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span>
            <span class="s2">&quot;Region&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">req</span> <span class="ow">and</span> <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">apis</span><span class="o">.</span><span class="n">GetISMSSendReceiptRequestSchema</span><span class="p">()</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>

        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;GetISMSSendReceipt&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">apis</span><span class="o">.</span><span class="n">GetISMSSendReceiptResponseSchema</span><span class="p">()</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span></div>

<div class="viewcode-block" id="ISMSClient.query_isms_signature"><a class="viewcode-back" href="../../../../services.html#ucloud.services.isms.client.ISMSClient.query_isms_signature">[docs]</a>    <span class="k">def</span> <span class="nf">query_isms_signature</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;QueryISMSSignature - 调用接口QueryISMSSignature查询视频短信签名申请状态</span>

<span class="sd">        **Request**</span>

<span class="sd">        - **ProjectId** (str) - (Config) 项目ID。不填写为默认项目，子帐号必须填写。 请参考 `GetProjectList接口 &lt;https://docs.ucloud.cn/api/summary/get_project_list&gt;`_</span>
<span class="sd">        - **SigId** (str) - (Required) 已申请的短信签名ID（短信签名申请时的工单ID）；签名ID和签名至少需填写1项；</span>
<span class="sd">        - **SigContent** (str) - 签名内容；签名ID和签名至少需填写1项；</span>

<span class="sd">        **Response**</span>

<span class="sd">        - **Data** (dict) - 见 **OutSignature** 模型定义</span>
<span class="sd">        - **Message** (str) - 发生错误时，表示具体错误描述</span>

<span class="sd">        **Response Model**</span>

<span class="sd">        **OutSignature**</span>
<span class="sd">        - **ErrDesc** (str) - 短信签名未通过审核原因</span>
<span class="sd">        - **SigContent** (str) - 短信签名内容</span>
<span class="sd">        - **SigId** (str) - 短信签名ID</span>
<span class="sd">        - **Status** (int) - 签名状态，0-待审核 1-审核中 2-审核通过 3-审核未通过 4-被禁用</span>


<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># build request</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;ProjectId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">req</span> <span class="ow">and</span> <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">apis</span><span class="o">.</span><span class="n">QueryISMSSignatureRequestSchema</span><span class="p">()</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>

        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;QueryISMSSignature&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">apis</span><span class="o">.</span><span class="n">QueryISMSSignatureResponseSchema</span><span class="p">()</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span></div>

<div class="viewcode-block" id="ISMSClient.query_isms_template"><a class="viewcode-back" href="../../../../services.html#ucloud.services.isms.client.ISMSClient.query_isms_template">[docs]</a>    <span class="k">def</span> <span class="nf">query_isms_template</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;QueryISMSTemplate - 查询模板状态信息</span>

<span class="sd">        **Request**</span>

<span class="sd">        - **ProjectId** (str) - (Config) 项目ID。不填写为默认项目，子帐号必须填写。 请参考 `GetProjectList接口 &lt;https://docs.ucloud.cn/api/summary/get_project_list&gt;`_</span>
<span class="sd">        - **Region** (str) - (Config) 地域。 参见  `地域和可用区列表 &lt;https://docs.ucloud.cn/api/summary/regionlist&gt;`_</span>
<span class="sd">        - **TemplateId** (str) - (Required) 模板Id</span>
<span class="sd">        - **Zone** (str) - (Required) 可用区。参见  `可用区列表 &lt;https://docs.ucloud.cn/api/summary/regionlist&gt;`_</span>

<span class="sd">        **Response**</span>

<span class="sd">        - **Data** (dict) - 见 **OutTemplate** 模型定义</span>
<span class="sd">        - **Message** (str) - 错误信息</span>
<span class="sd">        - **ReqUuid** (str) - 本次请求uuid</span>

<span class="sd">        **Response Model**</span>

<span class="sd">        **OutTemplate**</span>
<span class="sd">        - **CreateTime** (int) - 创建时间，时间戳格式1629357838</span>
<span class="sd">        - **ExpireTime** (int) - 截止有效时间，时间戳格式1629357838</span>
<span class="sd">        - **Purpose** (int) - 视频短信类型（3-会员营销）</span>
<span class="sd">        - **Remark** (str) - 备注信息</span>
<span class="sd">        - **StatusDesc** (str) - 状态描述。json格式，给出运营商维度的审核状态信息，示例：{&quot;telecom_status&quot;:2,&quot;telecom_desc&quot;:&quot;审核通过&quot;,&quot;unicom_status&quot;:2,&quot;unicom_desc&quot;:&quot;审核通过&quot;,&quot;mobile_status&quot;:2,&quot;mobile_desc&quot;:&quot;审核通过&quot;}。状态枚举值：0-创建模板时未向该运营商报备  1-&gt;审核中  2-&gt;审核通过   3-&gt;审核未通过   4-&gt;禁用   7-&gt;过期   11-&gt;待审核</span>
<span class="sd">        - **TemplateId** (str) - 模板ID</span>
<span class="sd">        - **TemplateName** (str) - 模板名称</span>


<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># build request</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;ProjectId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span>
            <span class="s2">&quot;Region&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">req</span> <span class="ow">and</span> <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">apis</span><span class="o">.</span><span class="n">QueryISMSTemplateRequestSchema</span><span class="p">()</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>

        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;QueryISMSTemplate&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">apis</span><span class="o">.</span><span class="n">QueryISMSTemplateResponseSchema</span><span class="p">()</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span></div>

<div class="viewcode-block" id="ISMSClient.send_isms_message"><a class="viewcode-back" href="../../../../services.html#ucloud.services.isms.client.ISMSClient.send_isms_message">[docs]</a>    <span class="k">def</span> <span class="nf">send_isms_message</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;SendISMSMessage - 发送视频短信</span>

<span class="sd">        **Request**</span>

<span class="sd">        - **ProjectId** (str) - (Config) 项目ID。不填写为默认项目，子帐号必须填写。 请参考 `GetProjectList接口 &lt;https://docs.ucloud.cn/api/summary/get_project_list&gt;`_</span>
<span class="sd">        - **Region** (str) - (Config) 地域。 参见  `地域和可用区列表 &lt;https://docs.ucloud.cn/api/summary/regionlist&gt;`_</span>
<span class="sd">        - **PhoneSet** (list) - (Required) 手机号码列表。暂时只支持中国大陆号码。若号码中带区号，需要将区号使用小括号包含，放在号码前面。如: (86)1851623xxxx</span>
<span class="sd">        - **TemplateId** (str) - (Required) 视频短信模板Id</span>
<span class="sd">        - **Zone** (str) - (Required) 可用区。参见  `可用区列表 &lt;https://docs.ucloud.cn/api/summary/regionlist&gt;`_</span>

<span class="sd">        **Response**</span>

<span class="sd">        - **Message** (str) - 错误信息</span>
<span class="sd">        - **ReqUuid** (str) - 本次请求uuid</span>
<span class="sd">        - **TaskId** (str) - 本次调用TaskId，使用该字段查询回执信息</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># build request</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;ProjectId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span>
            <span class="s2">&quot;Region&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">req</span> <span class="ow">and</span> <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">apis</span><span class="o">.</span><span class="n">SendISMSMessageRequestSchema</span><span class="p">()</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>

        <span class="c1"># build options</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;max_retries&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># ignore retry when api is not idempotent</span>

        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;SendISMSMessage&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">apis</span><span class="o">.</span><span class="n">SendISMSMessageResponseSchema</span><span class="p">()</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span></div>

<div class="viewcode-block" id="ISMSClient.update_isms_signature"><a class="viewcode-back" href="../../../../services.html#ucloud.services.isms.client.ISMSClient.update_isms_signature">[docs]</a>    <span class="k">def</span> <span class="nf">update_isms_signature</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;UpdateISMSSignature - 调用接口UpdateISMSSignature修改未通过审核的视频短信签名，并重新提交审核</span>

<span class="sd">        **Request**</span>

<span class="sd">        - **ProjectId** (str) - (Config) 项目ID，不填写为默认项目，子帐号必须填写。 请参考 `GetProjectList接口 &lt;https://docs.ucloud.cn/api/summary/get_project_list&gt;`_</span>
<span class="sd">        - **SigContent** (str) - (Required) 新的短信签名内容；长度为2-12个字符, 可包含中文、数字和符号；无需填写【】或[]，系统会自动添加</span>
<span class="sd">        - **SigId** (str) - (Required) 签名ID，支持以数组的方式，举例，以SigIds.0、SigIds.1...SigIds.N方式传入</span>
<span class="sd">        - **SigPurpose** (int) - (Required) 签名用途，0-自用，1-他用；</span>
<span class="sd">        - **SigType** (int) - (Required) 签名类型，说明如下：0-公司或企业的全称或简称；1-App应用的全称或简称；2-工信部备案网站的全称或简称；3-公众号或小程序的全称或简称；4-商标名的全称或简称；5-政府/机关事业单位/其他单位的全称或简称；</span>
<span class="sd">        - **CertificateType** (int) - 签名的资质证明文件类型，需与签名类型保持一致，说明如下：0-三证合一/企业营业执照/组织机构代码证书/社会信用代码证书；1-应用商店后台开发者管理截图；2-备案服务商的备案成功截图(含域名，网站名称，备案号)；3-公众号或小程序的管理界面截图；4-商标注册证书；5-组织机构代码证书、社会信用代码证书；</span>
<span class="sd">        - **Document** (str) - 短信签名的资质证明文件URL，若未更改审核材料，则该处使用已上传审核材料的URL链接，否则使用File参数</span>
<span class="sd">        - **File** (str) - 短信签名的资质证明文件内容，需先进行base64编码格式转换，此处填写转换后的字符串。文件大小不超过4 MB。内容格式如下: [file type];[code type],[base64]  如：image/jpeg;base64,5YaF5a65</span>
<span class="sd">        - **ProxyDoc** (str) - 短信签名授权委托文件URL，若未更改授权委托文件，则该处填写已上传的授权委托文件的URL链接，否则使用ProxyFile参数</span>
<span class="sd">        - **ProxyFile** (str) - 短信签名授权委托文件内容，需先进行base64编码格式转换，此处填写转换后的字符串。文件大小不超过4 MB；当您是代理并使用第三方的签名时（也即SigPurpose为1-他用），该项为必填项；格式和File类似。</span>

<span class="sd">        **Response**</span>

<span class="sd">        - **Message** (str) - 返回状态码描述，如果操作成功，默认返回为空</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># build request</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;ProjectId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">req</span> <span class="ow">and</span> <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">apis</span><span class="o">.</span><span class="n">UpdateISMSSignatureRequestSchema</span><span class="p">()</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>

        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;UpdateISMSSignature&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">apis</span><span class="o">.</span><span class="n">UpdateISMSSignatureResponseSchema</span><span class="p">()</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span></div></div>
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../../index.html">ucloud-sdk-python3</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../quick_start.html">QuickStart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../usage.html">Usage</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../services.html">UCloud SDK Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../helpers.html">Helpers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../core.html">Core</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../index.html">Documentation overview</a><ul>
  <li><a href="../../../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, ucloud.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.5.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>