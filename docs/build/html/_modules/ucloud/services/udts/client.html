
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ucloud.services.udts.client &#8212; ucloud-sdk-python3  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/alabaster.css" />
    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
   
  <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for ucloud.services.udts.client</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot; Code is generated by ucloud-model, DO NOT EDIT IT. &quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">typing</span>


<span class="kn">from</span> <span class="nn">ucloud.core.client</span> <span class="kn">import</span> <span class="n">Client</span>
<span class="kn">from</span> <span class="nn">ucloud.services.udts.schemas</span> <span class="kn">import</span> <span class="n">apis</span>


<div class="viewcode-block" id="UDTSClient"><a class="viewcode-back" href="../../../../services.html#ucloud.services.udts.client.UDTSClient">[docs]</a><span class="k">class</span> <span class="nc">UDTSClient</span><span class="p">(</span><span class="n">Client</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">transport</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">middleware</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">logger</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">UDTSClient</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">transport</span><span class="p">,</span> <span class="n">middleware</span><span class="p">,</span> <span class="n">logger</span><span class="p">)</span>

<div class="viewcode-block" id="UDTSClient.check_udts_task"><a class="viewcode-back" href="../../../../services.html#ucloud.services.udts.client.UDTSClient.check_udts_task">[docs]</a>    <span class="k">def</span> <span class="nf">check_udts_task</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;CheckUDTSTask - 对UDTS 任务提供预检查功能</span>

<span class="sd">        **Request**</span>

<span class="sd">        - **ProjectId** (str) - (Config) 项目ID。不填写为默认项目，子帐号必须填写。 请参考 `GetProjectList接口 &lt;https://docs.ucloud.cn/api/summary/get_project_list&gt;`_</span>
<span class="sd">        - **MaxRetryCount** (str) - (Required) 重试次数，最大为 5。 默认为0</span>
<span class="sd">        - **Name** (str) - (Required) task 名称，长度不能超过 128</span>
<span class="sd">        - **Type** (str) - (Required) 任务类型，值为 transfer 或 integration， transfer 时任务为 数据迁移，integration 时任务为 数据集成。</span>
<span class="sd">        - **Query** (str) - 废弃</span>
<span class="sd">        - **Source** (list) - 见 **CheckUDTSTaskParamSource** 模型定义</span>
<span class="sd">        - **Target** (dict) - 见 **CheckUDTSTaskParamTarget** 模型定义</span>

<span class="sd">        **Response**</span>

<span class="sd">        - **Action** (str) - 操作名称</span>
<span class="sd">        - **Data** (dict) - 见 **CheckUDTSTaskResult** 模型定义</span>
<span class="sd">        - **Message** (str) - 返回消息</span>
<span class="sd">        - **RetCode** (str) - 返回码</span>

<span class="sd">        **Request Model**</span>

<span class="sd">        **CheckUDTSTaskParamSourceMySQLNodeSyncData**</span>
<span class="sd">        - **BinlogGTID** (str) - 增量时需要指定的 binlog gtid，可以通过 show master status 获取，或者全量+增量任务会自动设置</span>
<span class="sd">        - **BinlogName** (str) - 增量时需要指定的 binlog name，可以通过 show master status 获取，或者全量+增量任务会自动设置</span>
<span class="sd">        - **BinlogPos** (int) - 增量时需要指定的 binlog pos，可以通过 show master status 获取，或者全量+增量任务会自动设置</span>
<span class="sd">        - **ServerID** (int) - 增量时需要指定的 serverID，不能和现有的 slave 重复，预检查时会检查该值</span>


<span class="sd">        **CheckUDTSTaskParamSourceMySQLNodeQueryData**</span>
<span class="sd">        - **DBName** (str) - 数据集成时需要迁移的 DB 名</span>
<span class="sd">        - **NewDBName** (str) - 数据集成时迁移后的 DB 名</span>


<span class="sd">        **CheckUDTSTaskParamTargetMySQLNode**</span>
<span class="sd">        - **DataRegion** (str) - 目标数据库地域，比如 cn-bj2</span>
<span class="sd">        - **Host** (str) - 目标数据库地址， 比如 10.9.37.212</span>
<span class="sd">        - **Password** (str) - 目标数据库密码</span>
<span class="sd">        - **Port** (int) - 目标数据库端口，比如 3306</span>
<span class="sd">        - **SubnetId** (str) - 目标数据库子网 ID ,比如 subnet-zl44fktq</span>
<span class="sd">        - **User** (str) - 目标数据库用户名，比如 root</span>
<span class="sd">        - **VPCId** (str) - 目标数据库 VPC,比如 uvnet-1wz5rqte</span>


<span class="sd">        **CheckUDTSTaskParamSourceMySQLNode**</span>
<span class="sd">        - **DataRegion** (str) - 数据库地域，比如 cn-bj2</span>
<span class="sd">        - **Database** (str) - 需要迁移的 DB 名称</span>
<span class="sd">        - **Host** (str) - 源数据库地址， 比如 10.9.37.200</span>
<span class="sd">        - **Password** (str) - 源 MySQL 密码</span>
<span class="sd">        - **Port** (int) - 源 MySQL 端口，如 3306</span>
<span class="sd">        - **QueryData** (list) - 见 **CheckUDTSTaskParamSourceMySQLNodeQueryData** 模型定义</span>
<span class="sd">        - **SubnetId** (str) - 子网 ID</span>
<span class="sd">        - **SyncData** (dict) - 见 **CheckUDTSTaskParamSourceMySQLNodeSyncData** 模型定义</span>
<span class="sd">        - **Table** (str) - 需要迁移的 table 名</span>
<span class="sd">        - **User** (str) - 源 MySQL 用户名，如 root</span>
<span class="sd">        - **VPCId** (str) - VPC</span>


<span class="sd">        **CheckUDTSTaskParamTarget**</span>
<span class="sd">        - **DataType** (str) - 目标数据库类型，比如 mysql</span>
<span class="sd">        - **MySQLNode** (dict) - 见 **CheckUDTSTaskParamTargetMySQLNode** 模型定义</span>
<span class="sd">        - **NWType** (str) - 目标 db 网络类型，目前进支持 user</span>


<span class="sd">        **CheckUDTSTaskParamSource**</span>
<span class="sd">        - **DataType** (str) - 数据库类型</span>
<span class="sd">        - **Mode** (str) - // 任务类型，值可以是 full, incremental, full+incremental, bidirectional</span>
<span class="sd">        - **MySQLNode** (dict) - 见 **CheckUDTSTaskParamSourceMySQLNode** 模型定义</span>
<span class="sd">        - **NWType** (str) - 源网络类型，可以是 public,user,dedicated_line</span>


<span class="sd">        **Response Model**</span>

<span class="sd">        **CheckResultItem**</span>
<span class="sd">        - **ErrMessage** (str) -</span>
<span class="sd">        - **State** (str) - 状态</span>


<span class="sd">        **CheckResult**</span>
<span class="sd">        - **Config** (dict) - 见 **CheckResultItem** 模型定义</span>
<span class="sd">        - **Connection** (dict) - 见 **CheckResultItem** 模型定义</span>
<span class="sd">        - **Privileges** (dict) - 见 **CheckResultItem** 模型定义</span>


<span class="sd">        **CheckUDTSTaskResult**</span>
<span class="sd">        - **Source** (dict) - 见 **CheckResult** 模型定义</span>
<span class="sd">        - **Target** (dict) - 见 **CheckResult** 模型定义</span>


<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># build request</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;ProjectId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">req</span> <span class="ow">and</span> <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">apis</span><span class="o">.</span><span class="n">CheckUDTSTaskRequestSchema</span><span class="p">()</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>

        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;CheckUDTSTask&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">apis</span><span class="o">.</span><span class="n">CheckUDTSTaskResponseSchema</span><span class="p">()</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span></div>

<div class="viewcode-block" id="UDTSClient.create_udts_task"><a class="viewcode-back" href="../../../../services.html#ucloud.services.udts.client.UDTSClient.create_udts_task">[docs]</a>    <span class="k">def</span> <span class="nf">create_udts_task</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;CreateUDTSTask - 创建UDTS任务</span>

<span class="sd">        **Request**</span>

<span class="sd">        - **ProjectId** (str) - (Config) 项目ID。不填写为默认项目，子帐号必须填写。 请参考 `GetProjectList接口 &lt;https://docs.ucloud.cn/api/summary/get_project_list&gt;`_</span>
<span class="sd">        - **Name** (str) - (Required) task 名称，长度不能超过 128</span>
<span class="sd">        - **Type** (str) - (Required) 任务类型，transfer(数据传输) 或 integration(数据集成)</span>
<span class="sd">        - **IsUnidirection** (str) - 暂时未使用该字段</span>
<span class="sd">        - **MaxRetryCount** (str) - 重试次数，最大为 5。 默认为0</span>
<span class="sd">        - **Query** (str) - 暂时未使用该字段</span>
<span class="sd">        - **Remark** (str) - 备注信息，长度不能大于 255</span>
<span class="sd">        - **Source** (list) - 见 **CreateUDTSTaskParamSource** 模型定义</span>
<span class="sd">        - **Target** (dict) - 见 **CreateUDTSTaskParamTarget** 模型定义</span>

<span class="sd">        **Response**</span>

<span class="sd">        - **Data** (dict) -</span>
<span class="sd">        - **Message** (str) - 返回消息</span>

<span class="sd">        **Request Model**</span>

<span class="sd">        **CreateUDTSTaskParamSourceMySQLNodeQueryDataTableData**</span>
<span class="sd">        - **ExcludeTables** (bool) - 暂时未使用该字段</span>
<span class="sd">        - **TableNames** (str) - 暂时未使用该字段</span>


<span class="sd">        **CreateUDTSTaskParamSourceMySQLNodeQueryDataTableMaps**</span>
<span class="sd">        - **NewTableName** (str) - 数据集成时迁移后的 Table 名</span>
<span class="sd">        - **TableName** (str) - 数据集成时需要迁移的 Table 名</span>


<span class="sd">        **CreateUDTSTaskParamSourceMySQLNodeSyncData**</span>
<span class="sd">        - **BinlogGTID** (str) - 增量时需要指定的 binlog gtid，可以通过 show master status 获取，或者全量+增量任务会自动设置</span>
<span class="sd">        - **BinlogName** (str) - 增量时需要指定的 binlog name，可以通过 show master status 获取，或者全量+增量任务会自动设置</span>
<span class="sd">        - **BinlogPos** (int) - 增量时需要指定的 binlog pos，可以通过 show master status 获取，或者全量+增量任务会自动设置</span>
<span class="sd">        - **ServerID** (int) - 增量时需要指定的 serverID，不能和现有的 slave 重复，预检查时会检查该值</span>


<span class="sd">        **CreateUDTSTaskParamSourceMySQLNodeQueryData**</span>
<span class="sd">        - **DBName** (str) - 数据集成时需要迁移的 DB 名</span>
<span class="sd">        - **NewDBName** (str) - 数据集成时迁移后的 DB 名</span>
<span class="sd">        - **TableData** (dict) - 见 **CreateUDTSTaskParamSourceMySQLNodeQueryDataTableData** 模型定义</span>
<span class="sd">        - **TableMaps** (list) - 见 **CreateUDTSTaskParamSourceMySQLNodeQueryDataTableMaps** 模型定义</span>


<span class="sd">        **CreateUDTSTaskParamSourceMySQLNode**</span>
<span class="sd">        - **DataRegion** (str) - 数据库地域，比如 cn-bj2</span>
<span class="sd">        - **Database** (str) - 需要迁移的 DB 名称</span>
<span class="sd">        - **DupAction** (str) - 重复数据处理规则，数据集成时该参数才有效，值为 ignore或者replace</span>
<span class="sd">        - **Host** (str) - 源数据库地址</span>
<span class="sd">        - **KeepExistData** (bool) - 是否保留原有数据，只有数据集成时该参数才有效</span>
<span class="sd">        - **Password** (str) - 源数据库密码</span>
<span class="sd">        - **Port** (int) - 源数据库端口</span>
<span class="sd">        - **QueryData** (list) - 见 **CreateUDTSTaskParamSourceMySQLNodeQueryData** 模型定义</span>
<span class="sd">        - **SubnetId** (str) - 源数据库子网 ID，当网络类型为 user 时需要填写</span>
<span class="sd">        - **SyncData** (dict) - 见 **CreateUDTSTaskParamSourceMySQLNodeSyncData** 模型定义</span>
<span class="sd">        - **Table** (str) - 需要迁移的 table 名</span>
<span class="sd">        - **User** (str) - 源数据库用户名</span>
<span class="sd">        - **VPCId** (str) - 源数据库 VPC ID，当网络类型为 user 时需要填写</span>


<span class="sd">        **CreateUDTSTaskParamTargetMySQLNode**</span>
<span class="sd">        - **DataRegion** (str) - 目标数据库地域，比如 cn-bj2</span>
<span class="sd">        - **Host** (str) - 目标数据库地址， 比如 10.9.37.212</span>
<span class="sd">        - **NoBinlog** (bool) - 是否在全量过程中，临时禁用目标 MySQL 产生 binlog，在目标磁盘空间不足，或者需要获取更快的迁移速度时可以使用，该参数会破坏目标 MySQL 的高可用</span>
<span class="sd">        - **Password** (str) - 目标数据库密码</span>
<span class="sd">        - **Port** (int) - 目标数据库端口，比如 3306</span>
<span class="sd">        - **SubnetId** (str) - 目标数据库子网 ID ,比如 subnet-zl44fktq</span>
<span class="sd">        - **User** (str) - 目标数据库用户名，比如 root</span>
<span class="sd">        - **VPCId** (str) - 目标数据库 VPC,比如 uvnet-1wz5rqte</span>


<span class="sd">        **CreateUDTSTaskParamSource**</span>
<span class="sd">        - **BandwidthLimit** (int) - 源端限速值，单位为  MB/s</span>
<span class="sd">        - **DataType** (str) - 数据库类型，比如 mysql</span>
<span class="sd">        - **Mode** (str) - 任务类型，值可以是 full, incremental, full+incremental, bidirectional</span>
<span class="sd">        - **MySQLNode** (dict) - 见 **CreateUDTSTaskParamSourceMySQLNode** 模型定义</span>
<span class="sd">        - **NWType** (str) - 源网络类型，可以是 public,user,dedicated_line</span>


<span class="sd">        **CreateUDTSTaskParamTarget**</span>
<span class="sd">        - **BandwidthLimit** (str) - 目标端限速，单位为 MB/s</span>
<span class="sd">        - **DataType** (str) - 目标数据库类型，比如 mysql</span>
<span class="sd">        - **Mode** (str) -</span>
<span class="sd">        - **MySQLNode** (dict) - 见 **CreateUDTSTaskParamTargetMySQLNode** 模型定义</span>
<span class="sd">        - **NWType** (str) - 目标 db 网络类型，目前仅支持 user</span>


<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># build request</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;ProjectId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">req</span> <span class="ow">and</span> <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">apis</span><span class="o">.</span><span class="n">CreateUDTSTaskRequestSchema</span><span class="p">()</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>

        <span class="c1"># build options</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;max_retries&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># ignore retry when api is not idempotent</span>

        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;CreateUDTSTask&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">apis</span><span class="o">.</span><span class="n">CreateUDTSTaskResponseSchema</span><span class="p">()</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span></div>

<div class="viewcode-block" id="UDTSClient.get_udts_task_history"><a class="viewcode-back" href="../../../../services.html#ucloud.services.udts.client.UDTSClient.get_udts_task_history">[docs]</a>    <span class="k">def</span> <span class="nf">get_udts_task_history</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;GetUDTSTaskHistory - 获取任务历史状态</span>

<span class="sd">        **Request**</span>

<span class="sd">        - **ProjectId** (str) - (Config) 项目ID。不填写为默认项目，子帐号必须填写。 请参考 `GetProjectList接口 &lt;https://docs.ucloud.cn/api/summary/get_project_list&gt;`_</span>
<span class="sd">        - **TaskId** (str) - (Required) 任务短 id</span>
<span class="sd">        - **Type** (str) - 任务类型</span>

<span class="sd">        **Response**</span>

<span class="sd">        - **Data** (list) - 见 **TaskHistoryItem** 模型定义</span>

<span class="sd">        **Response Model**</span>

<span class="sd">        **TaskHistoryItem**</span>
<span class="sd">        - **AntID** (str) - 任务 ID</span>
<span class="sd">        - **AntState** (str) - 任务状态</span>
<span class="sd">        - **CreateTime** (int) - 事件时间，值为 timestamp</span>
<span class="sd">        - **CreateTimeH** (str) - 事件时间，为可读的日期时间</span>


<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># build request</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;ProjectId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">req</span> <span class="ow">and</span> <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">apis</span><span class="o">.</span><span class="n">GetUDTSTaskHistoryRequestSchema</span><span class="p">()</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>

        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;GetUDTSTaskHistory&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">apis</span><span class="o">.</span><span class="n">GetUDTSTaskHistoryResponseSchema</span><span class="p">()</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span></div>

<div class="viewcode-block" id="UDTSClient.get_udts_task_status"><a class="viewcode-back" href="../../../../services.html#ucloud.services.udts.client.UDTSClient.get_udts_task_status">[docs]</a>    <span class="k">def</span> <span class="nf">get_udts_task_status</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;GetUDTSTaskStatus - 查看服务状态</span>

<span class="sd">        **Request**</span>

<span class="sd">        - **ProjectId** (str) - (Config) 项目ID。不填写为默认项目，子帐号必须填写。 请参考 `GetProjectList接口 &lt;https://docs.ucloud.cn/api/summary/get_project_list&gt;`_</span>
<span class="sd">        - **TaskId** (str) - (Required) 任务ID</span>
<span class="sd">        - **Type** (str) - 任务类型，值为 transfer 或 integration， transfer 时任务为 数据迁移，integration 时任务为 数据集成。</span>

<span class="sd">        **Response**</span>

<span class="sd">        - **Data** (dict) - 见 **StatusData** 模型定义</span>
<span class="sd">        - **Message** (str) - 返回信息</span>

<span class="sd">        **Response Model**</span>

<span class="sd">        **SyncData**</span>
<span class="sd">        - **BinlogGTID** (str) - GTID</span>
<span class="sd">        - **BinlogName** (str) - Binlog 文件名， 长度不超过128字符</span>
<span class="sd">        - **BinlogPos** (int) - Binlog Pos</span>
<span class="sd">        - **ServerId** (int) - 分配给UDTS task的server ID, 必须在MySQL集群中唯一</span>


<span class="sd">        **Progress**</span>
<span class="sd">        - **CurCount** (int) - 已迁移条目数</span>
<span class="sd">        - **CurDuration** (int) - 已耗时间（单位秒）</span>
<span class="sd">        - **Percentage** (float) - 完成进度</span>
<span class="sd">        - **TotalCount** (int) - 总条目数</span>
<span class="sd">        - **TotalDuration** (int) - 估算总耗时间（单位秒）</span>


<span class="sd">        **StatusData**</span>
<span class="sd">        - **CurRetryCount** (int) - 当前失败重试次数</span>
<span class="sd">        - **FailedMessage** (str) - 当Status为Failed时, 显示失败原因</span>
<span class="sd">        - **MaxRetryCount** (int) - 用户设置的最大失败重试次数</span>
<span class="sd">        - **Progress** (dict) - 见 **Progress** 模型定义</span>
<span class="sd">        - **Status** (str) - 任务状态, 状态有 Created:已创建,Checking:检查中,Dumping:转储中,Loading:加载中,Syncing:同步中,Synced:已同步,Done:完成,Failed:失败,Stopping:停止中,Stopped:停止,RetryPending:重试等待中,Starting:启动中,FailedUnrecoverable:异常,StoppedUnrecoverable:异常,Success:成功,Started:已启动</span>
<span class="sd">        - **Sync** (dict) - 见 **SyncData** 模型定义</span>


<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># build request</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;ProjectId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">req</span> <span class="ow">and</span> <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">apis</span><span class="o">.</span><span class="n">GetUDTSTaskStatusRequestSchema</span><span class="p">()</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>

        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;GetUDTSTaskStatus&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">apis</span><span class="o">.</span><span class="n">GetUDTSTaskStatusResponseSchema</span><span class="p">()</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span></div>

<div class="viewcode-block" id="UDTSClient.list_udts_task"><a class="viewcode-back" href="../../../../services.html#ucloud.services.udts.client.UDTSClient.list_udts_task">[docs]</a>    <span class="k">def</span> <span class="nf">list_udts_task</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;ListUDTSTask - 获取用户创建的 Task 信息</span>

<span class="sd">        **Request**</span>

<span class="sd">        - **ProjectId** (str) - (Config) 项目ID。不填写为默认项目，子帐号必须填写。 请参考 `GetProjectList接口 &lt;https://docs.ucloud.cn/api/summary/get_project_list.html&gt;`_</span>
<span class="sd">        - **Limit** (str) - 请求数量，默认为 20</span>
<span class="sd">        - **Offset** (str) - 偏移量，默认为 0</span>
<span class="sd">        - **Type** (str) - 任务类型</span>

<span class="sd">        **Response**</span>

<span class="sd">        - **Data** (list) - 见 **ListDataItem** 模型定义</span>
<span class="sd">        - **Message** (str) - 返回信息</span>

<span class="sd">        **Response Model**</span>

<span class="sd">        **Progress**</span>
<span class="sd">        - **CurCount** (int) - 已迁移条目数</span>
<span class="sd">        - **CurDuration** (int) - 已耗时间（单位秒）</span>
<span class="sd">        - **Percentage** (float) - 完成进度</span>
<span class="sd">        - **TotalCount** (int) - 总条目数</span>
<span class="sd">        - **TotalDuration** (int) - 估算总耗时间（单位秒）</span>


<span class="sd">        **ListDataItem**</span>
<span class="sd">        - **CreateTime** (int) - 创建时间</span>
<span class="sd">        - **CurRetryCount** (int) - 当前失败重试次数</span>
<span class="sd">        - **MaxRetryCount** (int) - 最大失败重试次数</span>
<span class="sd">        - **Name** (str) - 任务名称</span>
<span class="sd">        - **Progress** (dict) - 见 **Progress** 模型定义</span>
<span class="sd">        - **Status** (str) - 任务状态</span>
<span class="sd">        - **TaskId** (str) - 任务 ID</span>
<span class="sd">        - **Type** (str) - 任务类型, full全量, incremental增量，full+incremental全量+增量。</span>


<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># build request</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;ProjectId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">req</span> <span class="ow">and</span> <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">apis</span><span class="o">.</span><span class="n">ListUDTSTaskRequestSchema</span><span class="p">()</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>

        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;ListUDTSTask&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">apis</span><span class="o">.</span><span class="n">ListUDTSTaskResponseSchema</span><span class="p">()</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span></div>

<div class="viewcode-block" id="UDTSClient.start_udts_task"><a class="viewcode-back" href="../../../../services.html#ucloud.services.udts.client.UDTSClient.start_udts_task">[docs]</a>    <span class="k">def</span> <span class="nf">start_udts_task</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;StartUDTSTask - 启动UDTS服务</span>

<span class="sd">        **Request**</span>

<span class="sd">        - **ProjectId** (str) - (Config) 项目ID。不填写为默认项目，子帐号必须填写。 请参考 `GetProjectList接口 &lt;https://docs.ucloud.cn/api/summary/get_project_list.html&gt;`_</span>
<span class="sd">        - **TaskId** (str) - (Required) 任务ID</span>
<span class="sd">        - **Type** (str) - 任务类型</span>

<span class="sd">        **Response**</span>

<span class="sd">        - **Message** (str) - 返回信息</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># build request</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;ProjectId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">req</span> <span class="ow">and</span> <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">apis</span><span class="o">.</span><span class="n">StartUDTSTaskRequestSchema</span><span class="p">()</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>

        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;StartUDTSTask&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">apis</span><span class="o">.</span><span class="n">StartUDTSTaskResponseSchema</span><span class="p">()</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span></div>

<div class="viewcode-block" id="UDTSClient.stop_udts_task"><a class="viewcode-back" href="../../../../services.html#ucloud.services.udts.client.UDTSClient.stop_udts_task">[docs]</a>    <span class="k">def</span> <span class="nf">stop_udts_task</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">req</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;StopUDTSTask - 停止UDTS任务</span>

<span class="sd">        **Request**</span>

<span class="sd">        - **ProjectId** (str) - (Config) 项目ID。不填写为默认项目，子帐号必须填写。 请参考 `GetProjectList接口 &lt;https://docs.ucloud.cn/api/summary/get_project_list.html&gt;`_</span>
<span class="sd">        - **TaskId** (str) - (Required) 任务 ID</span>
<span class="sd">        - **Type** (str) - 任务类型</span>

<span class="sd">        **Response**</span>

<span class="sd">        - **Message** (str) - 返回信息</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># build request</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;ProjectId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">req</span> <span class="ow">and</span> <span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">apis</span><span class="o">.</span><span class="n">StopUDTSTaskRequestSchema</span><span class="p">()</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>

        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="s2">&quot;StopUDTSTask&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">apis</span><span class="o">.</span><span class="n">StopUDTSTaskResponseSchema</span><span class="p">()</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span></div></div>
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../../index.html">ucloud-sdk-python3</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../quick_start.html">QuickStart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../usage.html">Usage</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../services.html">UCloud SDK Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../helpers.html">Helpers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../core.html">Core</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../index.html">Documentation overview</a><ul>
  <li><a href="../../../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, ucloud.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>